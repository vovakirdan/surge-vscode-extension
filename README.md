# Surge Syntax Highlighting for VS Code

Расширение VS Code для языка Surge (`.sg`) с подсветкой синтаксиса, диагностикой и быстрыми исправлениями.

## Возможности

- Полная подсветка синтаксиса: директивы, атрибуты, async/await, pattern matching и расширенные типы.
- Диагностика через `surge diag --format json --stages sema --with-notes --suggest --preview --fullpath` с отображением ошибок, предупреждений и заметок в редакторе.
- Quick Fix действия, если `surge` возвращает fixes.
- Собственная палитра TextMate только для Surge, не влияющая на другие языки или активную тему.
- Поддержка комментариев, строк, чисел и аннотаций (`@pure`, `@override`).
- Анализ работает и для несохраненных/грязных файлов (используется временный файл).

## Требования

- Для диагностики и Quick Fix нужен установленный `surge` CLI.
- Если `surge` недоступен, расширение будет работать только как подсветка синтаксиса.

## Установка

1. Установите готовый `.vsix`:
   - Через команду VS Code: `Extensions: Install from VSIX...`
   - Или из терминала: `code --install-extension surge-syntax-highlighting-0.0.11.vsix`
2. Либо соберите пакет самостоятельно:
   - `npm install -g vsce`
   - `vsce package`

## Запуск из исходников

Откройте репозиторий в VS Code и нажмите `F5`, чтобы открыть новое окно с активированным расширением.

## Настройка

- `surge.analyzer.executablePath` — путь до исполняемого файла `surge`, используемого для диагностики. По умолчанию: `surge`.

## Папки и файлы

- `package.json` — метаданные расширения, список языков и правила подсветки цветов.
- `extension.js` — интеграция с `surge diag` и Quick Fix действия.
- `language-configuration.json` — конфигурация редактора для комментариев и пар скобок.
- `syntaxes/surge.tmLanguage.json` — грамматика TextMate для языка Surge.
- `icons/` — SVG-иконки языка.
- `showcases/` — примеры кода Surge.
- `test_syntax.sg` — тестовый файл для проверки подсветки.

## Лицензия

MIT
